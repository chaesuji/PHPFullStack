<template>
  <!-- ! 07/06 -->
  <!-- <img alt="Vue logo" src="./assets/logo.png"> -->
  <!-- <HelloWorld msg="ã…ã…‡?"/> -->
  <!-- index.html ìˆ˜ì • X / vue íŒŒì¼ì„ ìˆ˜ì • O -->
  <!-- no ë°˜ë³µë¬¸ -->
  <!-- <div>
    <h4>{{product1}}</h4>
    <p>{{price1}}ì›</p>
  </div>
  <div>
    <h4 :style="styleR">{{product2}}</h4>
    <p>{{price2}}ì›</p>
  </div> -->
  <!-- <hr> -->
  <!-- ! 0707 component -->
  <Navi :product1="product1" :navList="navList" />
  <!-- ! 0710 -->
  <!-- <br> -->
  <!-- input íƒœê·¸ì— ì…ë ¥ëœ ê°’ì„ ë³€ìˆ˜ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ìë™ ì €ì¥ -->
  <!-- <input type="text" @input="inputtest = $event.target.value;"> -->
  <!-- v-model -->
  <!-- v-modelì„ ì‚¬ìš©í•˜ë©´ ê¸€ìê°€ ì™„ì„±ë˜ì–´ì•¼ ëª¨ë“  ê¸€ìê°€ ë‚˜ì˜´ -->
  <!-- <input type="text" v-model="inputtest"> -->
  <!-- <br> -->
  <!-- ìë™ ì €ì¥ ë³€ìˆ˜ -->
  <!-- <span>{{ inputtest }}</span>
  <br> -->
  <!-- <div class="discount" v-if="flg"> -->
  <div class="discount">
    <!-- <p>ğŸ”¥ ì§€ê¸ˆ êµ¬ë§¤ ì‹œ 20% í• ì¸ ğŸ”¥</p> -->
    <p>ğŸ”¥ ì§€ê¸ˆ êµ¬ë§¤ ì‹œ {{count}}% í• ì¸ ğŸ”¥</p>
  </div>
  <br>
  <!-- <button @click="hookTest = !hookTest">í›… í…ŒìŠ¤íŠ¸</button> -->
  <!-- ! 0707 -->
  <ProductList @openModal="modalflg=true; pnum=i" :product="product" :modalflg="modalflg" v-for="(product, i) in products" :key="i" />
  <!-- <div class="startTransition" :class="{endTransition : modalflg}">  -->
    <!-- modalflgê°€ ì°¸ì¼ ë•Œë§Œ í´ë˜ìŠ¤ ì ìš© / ë‹«ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë„ ë‹¤ì‹œ class ì§€ì •í•´ì¤˜ì•¼ í•¨-->
    <!-- <Modal 
    @closeModal="modalflg = false" 
    :modalflg="modalflg" 
    :products="products" 
    :pnum="pnum" />
  </div> -->
  <transition name="modalTransition">
    <Modal 
    @closeModal="modalflg = false" 
    :modalflg="modalflg" 
    :products="products" 
    :pnum="pnum" />
  </transition>
  <!-- @plus="products[pnum].count++" 
  @minus="products[pnum].count--"  -->
  <!-- * ë„¤ë¹„ -->
  <!-- <div class="nav">
    <a href="">í™ˆ</a>
    <a href="">ìƒí’ˆ</a>
    <a href="">ê¸°íƒ€</a>
  </div> -->
  <!-- * ëª¨ë‹¬ -->
  <!-- <div class="bg_black" v-if="modalflg">
    <div class="bg_white" >
      <img :src="products[pnum].src">
      <h4>{{products[pnum].name}}</h4>
      <p>{{pprice}}</p>
      <p>{{products[pnum].content}}</p>
      <button v-on:click="plus(pnum);">+</button><span>{{products[pnum].count}}</span>
      <button v-on:click="minus(pnum);">-</button>
      <br><br>
      <button v-on:click="modalflg = false">X</button>
    </div>
  </div> -->
  <!-- ! 0706 -->
  <!-- ë°°ì—´ì˜ index ê°’ ì¶œë ¥ -->
  <!-- <h4 v-for="(name, i) in products" :key="i">{{i}}</h4> -->
  <!-- ë°°ì—´ì˜ ê°’ ì¶œë ¥ -->
  <!-- <h4 v-for="name in products" :key="name">{{name}}</h4>
  <h4 v-for="item in products" :key="item">{{item.name}}</h4> -->
  <!-- <div v-for="(item,i) in products" :key="i">
    <img src={{item.src}}>
    <img :src='item.src'>
    <h4 v-on:click="item.modalflg = true; pnum = i;">{{item.name}}</h4>
    <h4 v-on:click="openmodal(i)">{{item.name}}</h4>
    <p>{{item.price}}ì›</p>
    <button v-on:click="item.count++">+</button><span>{{item.count}}</span>
    <button v-on:click="plus(i)">+</button><span>{{item.count}}</span>
    <button v-on:click="minus(i)">-</button>
  </div> -->
  <hr>
  <!-- ! 07/07 -->
  <!--  if -->
  <!-- <p v-if="1 == 1">if</p> -->
</template>

<script>
// import HelloWorld from './components/HelloWorld.vue'
// * js import 
import data from './assets/JS/data.js'
// component import
import Navi from './components/Navi.vue'
import ProductList from './components/ProductList.vue'
import Modal from './components/Modal.vue'

export default {
  name: 'App',
  data() { // ë°ì´í„° ë°”ì¸ë”©
    return {
      // count: 1,
      inputtest: '',
      products: data, // * js import 
      modalflg: false,
      pnum: 0,
      pprice: 0,
      hookTest: false,
      flg: false,
      count: 20,
      navList: ['í™ˆ', 'ìƒí’ˆ', 'ê¸°íƒ€'],
      // [
      //   {name: 'ì–‘íŒŒ', price: '500', count: 1, src: require('@/assets/ì–‘íŒŒì†.png')}, // img src ë°ì´í„°ë°”ì¸ë”©
      //   {name: 'ì–‘íŒŒ', price: '1800', count: 1, src: require('@/assets/ì–‘íŒŒì†.png')},
      //   {name: 'ê·¸ëƒ¥ ì–‘íŒŒ', price: '1800', count: 1, src: require('@/assets/ì–‘íŒŒì†.png')}
      // ],
      
      // products: [
      //   'í‹°ì…”ì¸ ', 'ë°”ì§€', 'ì™¸íˆ¬'
      // ],
      product1: 'ê³„ë€',
      price1: '18000',
      product2: 'ë°”ì§€',
      price2: '27000',
      styleR: 'color:red'
    }
  },
  mounted() {
    const counted = setInterval(() => {
      this.count--
      if(this.count == 0){
        clearInterval(counted);
      }
    }, 1000);
  },
  // updated() {
  //   this.flg = true;
  // },
  // ! 0710
  watch: { // ì‹¤ì‹œê°„ ê°ì‹œ í•¨ìˆ˜ ì •ì˜ ì˜ì—­
    inputtest(input) {
      if(input == 3) {
        alert('3333');
        this.inputtest = '';
      }
    }
  },
  // ! 0707
  // methods: { // í•¨ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ì˜ì—­
  //   plus(i){
  //     this.products[i].count++;
  //     this.pprice = this.products[i].count * this.products[i].price;
  //   },
  //   minus(i){
  //     this.products[i].count--;
  //     this.pprice = this.pprice - this.products[i].price;
  //   },
  //   openmodal(i){
  //     this.modalflg = true;
  //     this.pnum = i;
  //   },
  // },
  // ! 0707s
  components: {
    // HelloWorld
    Navi,
    ProductList,
    Modal,
    // ì´ë¦„ì´ ê°™ìœ¼ë©´ ìƒëµ ê°€ëŠ¥í•¨
  }
}
</script>

<style>
/* 0707 css import */
@import url('./assets/CSS/app.css');
/* 0706 */
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
